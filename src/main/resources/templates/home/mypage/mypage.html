<!doctype html>
<html lang="en" data-bs-theme="auto" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>내 정보</title>
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/bootstrap.min.css" integrity="sha384ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="/css/jumbotron-narrow.css" rel="stylesheet">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/sign-in/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/headers/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="/docs/5.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .btn-bd-primary {
            --bd-violet-bg: #712cf9;
            --bd-violet-rgb: 112.520718, 44.062154, 249.437846;
            --bs-btn-font-weight: 600;
            --bs-btn-color: var(--bs-white);
            --bs-btn-bg: var(--bd-violet-bg);
            --bs-btn-border-color: var(--bd-violet-bg);
            --bs-btn-hover-color: var(--bs-white);
            --bs-btn-hover-bg: #6528e0;
            --bs-btn-hover-border-color: #6528e0;
            --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
            --bs-btn-active-color: var(--bs-btn-hover-color);
            --bs-btn-active-bg: #5a23c8;
            --bs-btn-active-border-color: #5a23c8;
        }

        .nav-link {
            color: #712cf9;
        }

        .footer-font .nav-footer-item .nav-link {
            font-size: 14px;
        }

        .footer-font {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-footer-item {
            margin-left: auto;
        }

        .nav-footer-item .nav-item {
            margin-right: 10px; /* 요소 사이의 간격 조절 */
        }

        .text-body-secondary {
            text-align: left;
        }

        .nav-white {
            color :#FFFFFF;
        }


        .btn-custom-2 {
            --bd-custom-bg: #F26B6B;
            --bd-custom-rgb: 242, 107, 107;
            --bs-btn-bg: var(--bd-custom-bg);
            --bs-btn-border-color: var(--bd-custom-bg);
            --bs-btn-hover-bg: #D64545;
            --bs-btn-hover-border-color: #D64545;
            --bs-btn-active-bg: #A33030;
            --bs-btn-active-border-color: #A33030;
            --bs-btn-font-weight: 600;
            --bs-btn-color: var(--bs-white);
            color: white;
        }

    </style>
</head>
<body>

<div class="container">
<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="/login" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
        <img class="bi me-2" width="30" height="30" th:src="@{/images/home100.png}">
        <span class="fs-2 fw-bold">북, 그럼</span>
    </a>

    <ul class="nav nav-pills">
        <li class="nav-item"><a href="/login" class="nav-link text-dark">홈 화면</a></li>
        <li class="nav-item"><a href="/home/mypage/basket" class="nav-link text-dark">장바구니</a></li>
        <li class="nav-item"><a href="/home/mypage/orderBooks" class="nav-link text-dark">상품 주문</a></li>
        <li class="nav-item"><a href="/home/mypage/wishlist" class="nav-link text-dark">찜 목록</a></li>
        <li class="nav-item"><a href="/home/mypage/getAllOrders" class="nav-link text-dark">주문 내역</a></li>
        <li class="nav-item"><a href="/home/mypage" class="nav-link nav-white" style="background-color: #7013F2;" aria-current="page">마이 페이지</a></li>
    </ul>
</header>
</div>

<div class="container-xl px-4 mt-4">
    <hr class="mt-0 mb-4">
    <div class="row">
        <div class="col-xl-4">
            <!-- Profile picture card-->
            <div class="card mb-4 mb-xl-0">
                <div class="card-header">Profile Picture</div>
                <div class="card-body text-center">
                    <!-- Profile picture image-->
                    <img class="img-account-profile rounded-circle mb-2 img-account-profile" id="profilePicture" src="/images/my_profile.jpg" alt="">
                    <!-- Profile picture help block-->
                    <div class="small font-italic text-muted mb-4">JPG or PNG no larger than 5 MB</div>

            </div>

            </div>
        </div>
        <div class="col-xl-8">
            <!-- Account details card-->
            <div class="card mb-4">
                <div class="card-header">Account Details</div>
                <div class="card-body">
                    <form>
                        <div class="mb-3">
                            <label class="small mb-1" for="inputUsername">Username (how your name will appear to other users on the site)</label>
                            <input class="form-control" id="inputUsername" type="text" placeholder="your name" th:value="${member.getName()}" readonly>
                        </div>
                        <div class="row gx-3 mb-3">
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputFirstName">Email</label>
                                <input class="form-control" id="inputFirstName" type="email" placeholder="your email" th:value="${member.getEmail()}" style="width: calc(100% - 15px);" readonly>
                            </div>
                            <div class="col-md-6">
                                <label class="small mb-1" for="inputOrgName">Password</label>
                                <input class="form-control" id="inputOrgName" type="password" placeholder="Your password" th:value="${member.getPassword()}" style="width: calc(100% - 15px);" readonly>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="small mb-1" for="inputLocation">address</label>
                            <input class="form-control" id="inputLocation" type="text" placeholder="your address" th:value="${member.getAddress()}" readonly>
                        </div>
                        <div class="mb-3">
                            <label class="small mb-1" for="inputEmailAddress">address2</label>
                            <input class="form-control" id="inputEmailAddress" type="email" placeholder="your Detailed address" th:value="${member.getAddress2()}" readonly>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-2">
                                <a href="/login" class="btn btn-bd-primary">돌아가기</a>
                            </div>
                            <div class="col-md-auto">
                                <a href="/logout" class="btn btn-custom-2 text-white">로그 아웃</a>
                         </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 스크립트 -->
<script>
    // 프로필 이미지 업데이트 함수
    function updateProfilePicture(uploadedImagePath) {
        const profilePicture = document.getElementById('profilePicture');
        if (profilePicture) {
            console.log("사진이 업데이트 됩니다.");
            // 이미지 업데이트
            profilePicture.src = "/images/" + uploadedImagePath;
        } else {
            console.error('프로필 이미지를 찾을 수 없습니다.');
        }
    }

    // 파일 업로드 함수
    function uploadImage() {
        const fileInput = document.getElementById('fileInput');
        const formData = new FormData();
        formData.append('file', fileInput.files[0]);

        fetch('/upload', {
            method: 'POST',
            body: formData
        })
            .then(response => response.text())
            .then(data => {
                console.log(data);
                const uploadedImagePath = data;
                updateProfilePicture(uploadedImagePath);
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }

    // 파일 업로드 버튼 클릭 시 파일 선택창 열기
    document.getElementById('fileInput').addEventListener('change', uploadImage);
</script>


<footer>
    <div class="container">
        <footer class="d-flex flex-wrap justify-content-end align-items-center py-3 my-4 border-top footer-font">
            <p class="col-md-4 mb-0 text-body-secondary">&copy; 2024 Jaemin_project</p>


            <ul class="nav nav-pills nav-footer-item">
                <li class="nav-item"><a href="/login" class="nav-link text-body-secondary">홈 화면</a></li>
                <li class="nav-item"><a href="/home/mypage/basket" class="nav-link text-body-secondary">장바구니</a></li>
                <li class="nav-item"><a href="/home/mypage/orderBooks" class="nav-link text-body-secondary">상품 주문</a></li>
                <li class="nav-item"><a href="/home/mypage/wishlist" class="nav-link text-body-secondary">찜 목록</a></li>
                <li class="nav-item"><a href="/home/mypage/getAllOrders" class="nav-link text-body-secondary">주문 내역</a></li>
                <li class="nav-item"><a href="/home/mypage" class="nav-link text-body-secondary">마이 페이지</a></li>
            </ul>

        </footer>
    </div>
</footer>

</body>
</html>
